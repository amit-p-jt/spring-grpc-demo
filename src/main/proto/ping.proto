syntax = "proto3";
package demo.ping.v1;


option java_package = "com.example.demo.v1";
option java_multiple_files = true;


service Pinger {
  // Ping the server.
  // Possible errors:
  //   INVALID_NAME: if the name is empty
  //   USER_NOT_FOUND: if the name is "unknown"
  rpc Ping(PingRequest) returns (PingResponse) {}
}

// Request message
message PingRequest {
  string name = 1;
}

// Domain-specific error
message ErrorDetail {
  enum Code {
    INVALID_NAME = 0;
    USER_NOT_FOUND = 1;
    INTERNAL_ERROR = 2;
  }
  Code code = 1;
  string message = 2;
}

// Response message
message PingResponse {
  oneof result {
    string message = 1;      // Success message
    ErrorDetail error = 2;   // Domain-specific error
  }
}
